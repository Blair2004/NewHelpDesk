import{g as p,h as m,n as b,c as i,a as s,q as c,y as v,t as l,E as n,F as g,l as f,o as r}from"./app-4HU7gmEH.js";const x={class:"p-8"},_={class:"card mb-6"},h={class:"flex gap-4"},y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},w={class:"card"},T={class:"text-3xl font-bold text-blue-600"},k={class:"card"},B={class:"text-3xl font-bold text-green-600"},R={class:"card"},S={class:"text-3xl font-bold text-yellow-600"},C={class:"card"},D={class:"text-3xl font-bold text-purple-600"},j={class:"card mb-6"},F={class:"space-y-3"},$={class:"flex justify-between items-center"},O={class:"flex items-center gap-3"},V={class:"w-64 bg-gray-200 rounded-full h-4"},A={class:"font-semibold"},E={class:"flex justify-between items-center"},I={class:"flex items-center gap-3"},M={class:"w-64 bg-gray-200 rounded-full h-4"},U={class:"font-semibold"},q={class:"flex justify-between items-center"},z={class:"flex items-center gap-3"},G={class:"w-64 bg-gray-200 rounded-full h-4"},L={class:"font-semibold"},N={class:"flex justify-between items-center"},P={class:"flex items-center gap-3"},H={class:"w-64 bg-gray-200 rounded-full h-4"},J={class:"font-semibold"},K={class:"card"},Q={class:"w-full"},W={class:"py-3 px-4"},X={class:"py-3 px-4 text-right font-semibold"},ss={__name:"Reports",setup(Y){const a=p({from:new Date(Date.now()-2592e6).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),e=p({totalThreads:0,resolvedThreads:0,avgResponseTime:0,satisfaction:0,statusBreakdown:{open:0,pending:0,resolved:0,closed:0},topCategories:[]});m(()=>{u()});async function u(){try{const d=await b.get("/api/reports",{params:a.value});e.value=d.data}catch(d){console.error("Failed to load reports:",d)}}return(d,t)=>(r(),i("div",x,[t[15]||(t[15]=s("h1",{class:"text-3xl font-bold mb-8"},"Reports & Analytics",-1)),s("div",_,[s("div",h,[s("div",null,[t[2]||(t[2]=s("label",{class:"block text-sm font-medium mb-2"},"From Date",-1)),c(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.from=o),type:"date",class:"input"},null,512),[[v,a.value.from]])]),s("div",null,[t[3]||(t[3]=s("label",{class:"block text-sm font-medium mb-2"},"To Date",-1)),c(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.to=o),type:"date",class:"input"},null,512),[[v,a.value.to]])]),s("div",{class:"flex items-end"},[s("button",{onClick:u,class:"btn btn-primary"},"Generate Report")])])]),s("div",y,[s("div",w,[t[4]||(t[4]=s("p",{class:"text-sm text-gray-600 mb-2"},"Total Threads",-1)),s("p",T,l(e.value.totalThreads),1)]),s("div",k,[t[5]||(t[5]=s("p",{class:"text-sm text-gray-600 mb-2"},"Resolved Threads",-1)),s("p",B,l(e.value.resolvedThreads),1)]),s("div",R,[t[6]||(t[6]=s("p",{class:"text-sm text-gray-600 mb-2"},"Average Response Time",-1)),s("p",S,l(e.value.avgResponseTime)+"h",1)]),s("div",C,[t[7]||(t[7]=s("p",{class:"text-sm text-gray-600 mb-2"},"Customer Satisfaction",-1)),s("p",D,l(e.value.satisfaction)+"%",1)])]),s("div",j,[t[12]||(t[12]=s("h2",{class:"text-xl font-semibold mb-4"},"Thread Status Breakdown",-1)),s("div",F,[s("div",$,[t[8]||(t[8]=s("span",null,"Open",-1)),s("div",O,[s("div",V,[s("div",{class:"bg-green-500 h-4 rounded-full",style:n({width:`${e.value.statusBreakdown.open/e.value.totalThreads*100}%`})},null,4)]),s("span",A,l(e.value.statusBreakdown.open),1)])]),s("div",E,[t[9]||(t[9]=s("span",null,"Pending",-1)),s("div",I,[s("div",M,[s("div",{class:"bg-yellow-500 h-4 rounded-full",style:n({width:`${e.value.statusBreakdown.pending/e.value.totalThreads*100}%`})},null,4)]),s("span",U,l(e.value.statusBreakdown.pending),1)])]),s("div",q,[t[10]||(t[10]=s("span",null,"Resolved",-1)),s("div",z,[s("div",G,[s("div",{class:"bg-blue-500 h-4 rounded-full",style:n({width:`${e.value.statusBreakdown.resolved/e.value.totalThreads*100}%`})},null,4)]),s("span",L,l(e.value.statusBreakdown.resolved),1)])]),s("div",N,[t[11]||(t[11]=s("span",null,"Closed",-1)),s("div",P,[s("div",H,[s("div",{class:"bg-gray-500 h-4 rounded-full",style:n({width:`${e.value.statusBreakdown.closed/e.value.totalThreads*100}%`})},null,4)]),s("span",J,l(e.value.statusBreakdown.closed),1)])])])]),s("div",K,[t[14]||(t[14]=s("h2",{class:"text-xl font-semibold mb-4"},"Top Categories",-1)),s("table",Q,[t[13]||(t[13]=s("thead",null,[s("tr",{class:"border-b"},[s("th",{class:"text-left py-3 px-4"},"Category"),s("th",{class:"text-right py-3 px-4"},"Threads")])],-1)),s("tbody",null,[(r(!0),i(g,null,f(e.value.topCategories,o=>(r(),i("tr",{key:o.id,class:"border-b"},[s("td",W,l(o.name),1),s("td",X,l(o.count),1)]))),128))])])])]))}};export{ss as default};
