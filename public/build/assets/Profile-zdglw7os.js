import{u as m,g as p,h as v,c as f,a as e,e as i,x as b,q as u,v as c,y as x,o as y,n as g}from"./app-4HU7gmEH.js";const k={class:"p-8"},P={class:"max-w-2xl"},z={class:"card mb-6"},S={class:"space-y-4"},w=["value"],M=["value"],h={class:"card"},A={class:"space-y-4"},F={__name:"Profile",setup(B){const l=m(),s=p({locale:"en",timezone:""});v(()=>{l.user&&(s.value.locale=l.user.preferred_locale,s.value.timezone=l.user.timezone||"")});async function d(){try{await g.put("/api/user/preferences",s.value),alert("Preferences updated successfully"),await l.checkAuth()}catch(o){console.error("Failed to update preferences:",o),alert("Failed to update preferences")}}return(o,t)=>{var n,r;return y(),f("div",k,[t[11]||(t[11]=e("h1",{class:"text-3xl font-bold mb-8"},"Profile",-1)),e("div",P,[e("div",z,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold mb-4"},"Personal Information",-1)),e("div",S,[e("div",null,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium mb-2"},"Name",-1)),e("input",{type:"text",value:(n=i(l).user)==null?void 0:n.name,readonly:"",class:"input bg-gray-50"},null,8,w)]),e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),e("input",{type:"email",value:(r=i(l).user)==null?void 0:r.email,readonly:"",class:"input bg-gray-50"},null,8,M)]),t[4]||(t[4]=e("p",{class:"text-sm text-gray-600"}," Name and email are managed by your OAuth provider and cannot be changed here. ",-1))])]),e("div",h,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold mb-4"},"Preferences",-1)),e("form",{onSubmit:b(d,["prevent"])},[e("div",A,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium mb-2"},"Preferred Language",-1)),u(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.value.locale=a),class:"input"},[...t[6]||(t[6]=[e("option",{value:"en"},"English",-1),e("option",{value:"es"},"Spanish",-1),e("option",{value:"fr"},"French",-1),e("option",{value:"de"},"German",-1)])],512),[[c,s.value.locale]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium mb-2"},"Timezone",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.value.timezone=a),type:"text",class:"input"},null,512),[[x,s.value.timezone]])]),t[9]||(t[9]=e("button",{type:"submit",class:"btn btn-primary"},"Save Changes",-1))])],32)])])])}}};export{F as default};
